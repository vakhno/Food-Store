"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");require("prop-types");var r=require("@reach/observe-rect"),t=require("@reach/utils");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=u(r),o=function(r){var t=r.onChange,u=r.observe,n=void 0===u||u,o=r.children,s=e.useRef(null);return o({ref:s,rect:c(s,{observe:n,onChange:t})})};function c(r,u,o){var c,s,i;t.isBoolean(u)?c=u:(c=null===(i=null==u?void 0:u.observe)||void 0===i||i,s=null==u?void 0:u.onChange),t.isFunction(o)&&(s=o);var a=e.useState(r.current),f=a[0],l=a[1],v=e.useRef(!1),d=e.useRef(!1),p=e.useState(null),b=p[0],h=p[1],R=e.useRef(s),y=e.useCallback((function(e){R.current&&R.current(e)}),[]);return t.useIsomorphicLayoutEffect((function(){R.current=s,r.current!==f&&l(r.current)})),t.useIsomorphicLayoutEffect((function(){f&&!v.current&&(v.current=!0,h(f.getBoundingClientRect()))}),[f]),t.useIsomorphicLayoutEffect((function(){var e,t=f;return d.current||(d.current=!0,t=r.current),t?(e=n.default(t,(function(e){y(e),h(e)})),c&&e.observe(),u):u;function u(){e&&e.unobserve()}}),[c,f,r,y]),b}exports.Rect=o,exports.default=o,exports.useRect=c;
//# sourceMappingURL=rect.cjs.production.min.js.map
