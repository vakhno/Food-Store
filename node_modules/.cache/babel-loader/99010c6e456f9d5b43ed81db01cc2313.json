{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\profr\\\\OneDrive\\\\Desktop\\\\Food-Store\\\\src\\\\pages\\\\Dishes\\\\Dishes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useCallback } from 'react';\nimport './Dishes.sass';\nimport { Categories, DishesSort, DishesBlock, DishesLoadingBlock } from '../../components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCategory, setSortBy } from '../../redux/actions/filters';\nimport { fetchDishes } from '../../redux/actions/dishesRequest';\nimport { addDisheToCart } from '../../redux/actions/cart';\nconst categoryItems = [{\n  title: 'Піци',\n  category: 'pizza'\n}, {\n  title: 'Десерти',\n  category: 'desert'\n}, {\n  title: 'Паста',\n  category: 'pasta'\n}, {\n  title: 'Равіолі',\n  category: 'ravioli'\n}, {\n  title: 'Салати',\n  category: 'salat'\n}, {\n  title: 'Напої',\n  category: 'drink'\n}];\nconst sortItems = [{\n  name: 'популярність',\n  type: 'popular',\n  order: 'desc'\n}, {\n  name: 'ціна',\n  type: 'price',\n  order: 'desc'\n}, {\n  name: 'алфавіт',\n  type: 'name',\n  order: 'asc'\n}];\n\nfunction Dishes() {\n  _s();\n\n  const dispatch = useDispatch();\n  const dishes = useSelector(({\n    dishes\n  }) => dishes.items);\n  const cartItems = useSelector(({\n    cart\n  }) => cart.items);\n  const isLoaded = useSelector(({\n    dishes\n  }) => dishes.isLoaded);\n  const {\n    category,\n    sortBy\n  } = useSelector(({\n    filter\n  }) => filter);\n  useEffect(() => {\n    dispatch(fetchDishes(sortBy, category));\n  }, [category, sortBy]);\n  const onSelectCategory = useCallback(index => {\n    dispatch(setCategory(index));\n  }, []);\n  const onSelectSortType = useCallback(name => {\n    dispatch(setSortBy(name));\n  }, []);\n\n  const handleAddDishToCart = dishInfo => {\n    dispatch(addDisheToCart(dishInfo));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-dishes\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-dishes__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-dishes__options\",\n        children: [/*#__PURE__*/_jsxDEV(Categories, {\n          activeCategory: category,\n          items: categoryItems,\n          selectCategory: onSelectCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(DishesSort, {\n          activeSortType: sortBy.type,\n          items: sortItems,\n          onClickSortType: onSelectSortType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-dishes__dishes-list\",\n        children: isLoaded ? dishes.map(elem => /*#__PURE__*/_jsxDEV(DishesBlock, {\n          className: \"menu-dishes__dishe\",\n          onClickAddDish: handleAddDishToCart,\n          addedCount: cartItems[elem.id] && Object.values(cartItems[elem.id]).reduce((accum, cur) => accum.concat(cur), []).length,\n          ...elem,\n          light: true\n        }, elem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 40\n        }, this)) : Array(12).fill(0).map((_, index) => /*#__PURE__*/_jsxDEV(DishesLoadingBlock, {}, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 315\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Dishes, \"Xd6c0Akwr/FE3dIyB9OTjLzzYww=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Dishes;\nexport default Dishes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dishes\");","map":{"version":3,"sources":["C:/Users/profr/OneDrive/Desktop/Food-Store/src/pages/Dishes/Dishes.js"],"names":["React","useEffect","useCallback","Categories","DishesSort","DishesBlock","DishesLoadingBlock","useSelector","useDispatch","setCategory","setSortBy","fetchDishes","addDisheToCart","categoryItems","title","category","sortItems","name","type","order","Dishes","dispatch","dishes","items","cartItems","cart","isLoaded","sortBy","filter","onSelectCategory","index","onSelectSortType","handleAddDishToCart","dishInfo","map","elem","id","Object","values","reduce","accum","cur","concat","length","Array","fill","_"],"mappings":"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","sourcesContent":["import React, {useEffect, useCallback} from 'react'\r\nimport './Dishes.sass'\r\nimport {Categories, DishesSort, DishesBlock, DishesLoadingBlock} from '../../components'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {setCategory, setSortBy} from '../../redux/actions/filters'\r\nimport {fetchDishes} from '../../redux/actions/dishesRequest'\r\nimport {addDisheToCart} from '../../redux/actions/cart'\r\n\r\nconst categoryItems = [\r\n\t{\r\n\t\ttitle:'Піци',\r\n\t\tcategory:'pizza'\r\n\t}, \r\n\t{\r\n\t\ttitle:'Десерти', \r\n\t\tcategory:'desert'\r\n\t}, \r\n\t{\r\n\t\ttitle:'Паста',\r\n\t\tcategory:'pasta'\r\n\t}, \r\n\t{\r\n\t\ttitle:'Равіолі', \r\n\t\tcategory:'ravioli'\r\n\t},\r\n\t{\r\n\t\ttitle:'Салати', \r\n\t\tcategory:'salat'\r\n\t}, \r\n\t{\r\n\t\ttitle:'Напої', \r\n\t\tcategory:'drink'\r\n\t},\r\n]\r\nconst sortItems = [\r\n\t{\r\n\t\tname: 'популярність', \r\n\t\ttype: 'popular', \r\n\t\torder: 'desc'\r\n\t},\r\n\t{\r\n\t\tname: 'ціна', \r\n\t\ttype: 'price', \r\n\t\torder: 'desc'\r\n\t},\r\n\t{\r\n\t\tname: 'алфавіт', \r\n\t\ttype: 'name', \r\n\t\torder: 'asc'\r\n\t},\r\n]\r\n\r\nfunction Dishes() {\r\n\tconst dispatch = useDispatch()\r\n\tconst dishes =  useSelector( ({dishes}) => dishes.items )\r\n\tconst cartItems =  useSelector( ({cart}) => cart.items )\r\n\tconst isLoaded =  useSelector( ({dishes}) => dishes.isLoaded )\r\n\tconst {category, sortBy} = useSelector(({filter}) => filter)\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(fetchDishes(sortBy, category))\r\n\t}, [category, sortBy])\r\n\r\n\tconst onSelectCategory = useCallback((index) => {\r\n\t\tdispatch(setCategory(index))\r\n\t}, [])\r\n\r\n\tconst onSelectSortType = useCallback((name) => {\r\n\t\tdispatch(setSortBy(name))\r\n\t}, [])\r\n\r\n\tconst handleAddDishToCart = (dishInfo) => {\r\n\t\tdispatch(addDisheToCart(dishInfo))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"menu-dishes\">\r\n\t\t\t<div className=\"menu-dishes__container\">\r\n\t\t\t\t<div className=\"menu-dishes__options\">\r\n\t\t\t\t\t<Categories activeCategory={category} items={categoryItems} selectCategory={onSelectCategory}/>\r\n\t\t\t\t\t<DishesSort activeSortType={sortBy.type} items={sortItems} onClickSortType={onSelectSortType} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"menu-dishes__dishes-list\">\r\n\t\t\t\t\t{isLoaded ? dishes.map( (elem) => <DishesBlock className=\"menu-dishes__dishe\" onClickAddDish={handleAddDishToCart} addedCount={cartItems[elem.id] && Object.values(cartItems[elem.id]).reduce( (accum, cur) => accum.concat(cur), []).length} key={elem.id} {...elem} light/>) : Array(12).fill(0).map((_, index) => <DishesLoadingBlock key={index}/>)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dishes\r\n"]},"metadata":{},"sourceType":"module"}