{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\profr\\\\OneDrive\\\\Desktop\\\\Food-Store\\\\src\\\\pages\\\\Dishes\\\\Dishes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Categories, DishesSort, DishesBlock, DishesLoadingBlock } from '../../components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCategory, setSortBy } from '../../redux/actions/filters';\nimport { fetchDishes } from '../../redux/actions/dishesRequest';\nimport { addDisheToCart } from '../../redux/actions/cart';\nconst categoryItems = [{\n  title: 'Піци',\n  category: 'pizza'\n}, {\n  title: 'Десерти',\n  category: 'desert'\n}, {\n  title: 'Паста',\n  category: 'pasta'\n}, {\n  title: 'Равіолі',\n  category: 'ravioli'\n}, {\n  title: 'Напої',\n  category: 'drink'\n}]; // const categoryItems = ['Мясные', 'Вегатерисанские', 'Гриль', 'Острые', 'Закрытые' ]\n\nconst sortItems = [{\n  name: 'популярности',\n  type: 'popular',\n  order: 'desc'\n}, {\n  name: 'цене',\n  type: 'price',\n  order: 'desc'\n}, {\n  name: 'алфавиту',\n  type: 'name',\n  order: 'asc'\n}];\n\nfunction Dishes() {\n  _s();\n\n  const dispatch = useDispatch();\n  const dishes = useSelector(({\n    dishes\n  }) => dishes.items);\n  const cartItems = useSelector(({\n    cart\n  }) => cart.items);\n  const isLoaded = useSelector(({\n    dishes\n  }) => dishes.isLoaded);\n  const {\n    category,\n    sortBy\n  } = useSelector(({\n    filter\n  }) => filter);\n  useEffect(() => {\n    dispatch(fetchDishes(sortBy, category));\n  }, [category, sortBy]);\n  const onSelectCategory = React.useCallback(index => {\n    dispatch(setCategory(index));\n  }, []);\n  const onSelectSortType = React.useCallback(name => {\n    dispatch(setSortBy(name));\n  }, []);\n\n  const handleAddDishToCart = dishInfo => {\n    dispatch(addDisheToCart(dishInfo));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: '100px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__top\",\n      children: [/*#__PURE__*/_jsxDEV(Categories, {\n        activeCategory: category,\n        items: categoryItems,\n        selectCategory: onSelectCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DishesSort, {\n        activeSortType: sortBy.type,\n        items: sortItems,\n        onClickSortType: onSelectSortType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u0432\\u0438:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__items\",\n      children: isLoaded ? dishes.map(elem => /*#__PURE__*/_jsxDEV(DishesBlock, {\n        onClickAddDish: handleAddDishToCart,\n        addedCount: cartItems[elem.id] && Object.values(cartItems[elem.id]).reduce((accum, cur) => accum.concat(cur), []).length,\n        ...elem,\n        light: true\n      }, elem.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 41\n      }, this)) : Array(12).fill(0).map((_, index) => /*#__PURE__*/_jsxDEV(DishesLoadingBlock, {}, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 285\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dishes, \"Xd6c0Akwr/FE3dIyB9OTjLzzYww=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Dishes;\nexport default Dishes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dishes\");","map":{"version":3,"sources":["C:/Users/profr/OneDrive/Desktop/Food-Store/src/pages/Dishes/Dishes.js"],"names":["React","useEffect","Categories","DishesSort","DishesBlock","DishesLoadingBlock","useSelector","useDispatch","setCategory","setSortBy","fetchDishes","addDisheToCart","categoryItems","title","category","sortItems","name","type","order","Dishes","dispatch","dishes","items","cartItems","cart","isLoaded","sortBy","filter","onSelectCategory","useCallback","index","onSelectSortType","handleAddDishToCart","dishInfo","marginTop","map","elem","id","Object","values","reduce","accum","cur","concat","length","Array","fill","_"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {Categories, DishesSort, DishesBlock, DishesLoadingBlock} from '../../components'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {setCategory, setSortBy} from '../../redux/actions/filters'\r\nimport {fetchDishes} from '../../redux/actions/dishesRequest'\r\nimport {addDisheToCart} from '../../redux/actions/cart'\r\n\r\nconst categoryItems = [{title:'Піци', category:'pizza'}, {title:'Десерти', category:'desert'}, {title:'Паста', category:'pasta'}, {title:'Равіолі', category:'ravioli'}, {title:'Напої', category:'drink'},]\r\n// const categoryItems = ['Мясные', 'Вегатерисанские', 'Гриль', 'Острые', 'Закрытые' ]\r\nconst sortItems = [\r\n\t{name: 'популярности', type: 'popular', order: 'desc'},\r\n\t{name: 'цене', type: 'price', order: 'desc'},\r\n\t{name: 'алфавиту', type: 'name', order: 'asc'},\r\n]\r\n\r\nfunction Dishes() {\r\n\tconst dispatch = useDispatch()\r\n\tconst dishes =  useSelector( ({dishes}) => dishes.items )\r\n\tconst cartItems =  useSelector( ({cart}) => cart.items )\r\n\tconst isLoaded =  useSelector( ({dishes}) => dishes.isLoaded )\r\n\tconst {category, sortBy} = useSelector(({filter}) => filter)\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(fetchDishes(sortBy, category))\r\n\t}, [category, sortBy])\r\n\r\n\tconst onSelectCategory = React.useCallback((index) => {\r\n\t\tdispatch(setCategory(index))\r\n\t}, [])\r\n\r\n\tconst onSelectSortType = React.useCallback((name) => {\r\n\t\tdispatch(setSortBy(name))\r\n\t}, [])\r\n\r\n\tconst handleAddDishToCart = (dishInfo) => {\r\n\t\tdispatch(addDisheToCart(dishInfo))\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t\t<div className=\"container\" style={{marginTop:'100px'}}>\r\n\t\t\t\t\t<div className=\"content__top\">\r\n\t\t\t\t\t\t<Categories activeCategory={category} items={categoryItems}\r\n\t\t\t\t\t\tselectCategory={onSelectCategory}/>\r\n\t\t\t\t\t\t<DishesSort activeSortType={sortBy.type} items={sortItems} onClickSortType={onSelectSortType} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2 className=\"content__title\">Оберіть страви:</h2>\r\n\t\t\t\t\t<div className=\"content__items\">\r\n\t\t\t\t\t\t{isLoaded ? dishes.map( (elem) => <DishesBlock onClickAddDish={handleAddDishToCart} addedCount={cartItems[elem.id] && Object.values(cartItems[elem.id]).reduce( (accum, cur) => accum.concat(cur), []).length} key={elem.id} {...elem} light/>) : Array(12).fill(0).map((_, index) => <DishesLoadingBlock key={index}/>)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dishes\r\n"]},"metadata":{},"sourceType":"module"}